---
import { Image } from "astro:assets";
import CarouselContainer from "@components/ui/CarouselContainer.astro";
// import type { IMumbaiGroomingPageProps } from "../pages/pages_props_interface";

const {
  content: { section8 },
} = Astro.props;
---

<div class="bg-white pt-10 sm:pt-6 sm:mt-10 lg:mt-10">
  <div class="mx-auto max-w-7xl px-6">
    <div class="mx-auto text-center">
      <p class="mt-2 text-4xl font-bold tracking-tight text-gray-900">
        Reviews
      </p>
    </div>
    <CarouselContainer carouselId="reviews_carousel">
      {
        section8.map((value) => {
          return (
            <div class=" sm:px-6 mt-4 flow-root w sm:w-1/2 lg:w-1/3 sm:mt-10 lg:mx-0 pb-2 sm:pb-6">
              <div class="sm:-mx-4 sm:text-[0]">
                <div class=" sm:inline-block sm:w-full sm:px-4">
                  <figure
                    x-data="{visible: false}"
                    class="rounded-2xl bg-gray-100 p-8 text-sm leading-6 "
                  >
                    <blockquote
                      x-bind:class="{'line-clamp-6': !visible}"
                      class="text-gray-900  text-overflow-ellipsis"
                    >
                      <p>
                        <span x-on:click="visible = !visible">
                          {value.content}
                        </span>
                      </p>
                    </blockquote>
                    <figcaption class="mt-6 flex items-center gap-x-4">
                      <img
                        class="h-10 w-10 rounded-full bg-gray-50"
                        src={value.image}
                        alt={value.alt}
                      />
                      <div>
                        <div class="font-semibold text-gray-900">
                          {value.imageTitle}
                        </div>
                      </div>
                    </figcaption>
                  </figure>
                </div>
              </div>
            </div>
          );
        })
      }
    </CarouselContainer>
  </div>
</div>

<script>
  import Flickity from "flickity";
  import "flickity/css/flickity.css";
  var elem = document.querySelector(".reviews_carousel");

  new Flickity(elem, {
    // options
    cellAlign: "left",
    contain: true,
    prevNextButtons: false,
    pauseAutoPlayOnHover: false,
    pageDots: false,
    autoPlay: 1500,
  });
</script>
